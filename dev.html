<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dev Page</title>
    <link rel="stylesheet" href="./css/style.css">
    <link rel="icon" type="image/x-icon" href="/assets/satellite-dish.png">
    <!-- <script type="module" src="./javaScripts/script.js" defer></script>  -->
    <script src="./javaScripts/devScript.js" defer></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R18RCXW4B4"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-R18RCXW4B4');
    </script>
</head>
<body>
    <h1>Dev Page</h1>
    <p>Created by Andrew Jesus, 2025</p>
    <form id="inputForm">
        <h3>Propulsion Setup</h3>
        
        <label for="uploadToggle">Upload Propulsion Data?</label>
        <input type="checkbox" id="uploadToggle" checked><br><br>
        
        <div id="fileUploadSection" style="display: block;">
            <label for="dataSelector">What type of data is being uploaded?</label><br>
            <label for="motoCalc">MotoCalc Files</label>
            <input type="radio" name="dataSelector" id="motoCalc" value="motoCalc">
            <label for="windTunnel">Wind Tunnel Data</label>
            <input type="radio" name="dataSelector" id="windTunnel" value="windTunnel" checked><br><br>

            <!--Information Section-->
            <label for="motoNum">Number of Motor(s)</label>
            <input type="text" id="motoNum"> <br><br>
            <!--Extra information for wind tunnel-->
            <div id="windInfo">
                <label for="nominalVoltage">Nominal Voltage of Battery:<em>ex(3s battery = 11.1V, 4s battery = 14.8V etc)</em> </label>
                <input type="text" id="nominalVoltage">V<br><br>
                <label for="testPressure">Pressure of the wind tunnel during testing:</label><br>
                <input type="text" id="testPressure">inHg<br><br>
                <label for="testTemp">Temperature of the wind tunnel during testing:</label><br>
                <input type="text" id="testTemp">&deg;F<br><br>
            </div>

            <label for="folderInput" id="motoCalcNote">Please input Motocalc folder with desired throttle data(s):<br><em>
            Note: The files in the folder need to be named just the throttle %<br>ex ("30.txt" "50.txt" "100.txt")</em><br></label>
            <label for="folderInput" id="windTunnelNote" style="display: none;">Please input folder with wind tunnel data:<br><em>
            Note: The files in the folder need to be named just the speed at which the data was taken<br>ex ("20.txt" "35.txt" "50.txt") for 20mph
            35mph 50mph</em><br></label>
            <input type="file" id="folderInput" name="folderInput" webkitdirectory directory><br><br>
        </div>
        
        <input type="submit" value="Run Analysis">
    </form>

    
    </div>
    <a class="donate" href="https://venmo.com/u/Andrew-Jesus" target="_blank">Buy me a coffee! &#9749;</a>
<script>
    // File upload toggle
    document.getElementById('uploadToggle').addEventListener('change', function() {
        const fileSection = document.getElementById('fileUploadSection');
        fileSection.style.display = this.checked ? 'block' : 'none';
    });

    // Data type description toggle
    const motoDescription = document.getElementById('motoCalcNote');
    const windDescription = document.getElementById('windTunnelNote');
    const windInfo = document.getElementById('windInfo')

    function updateDescriptions(value) {
        if (value === 'motoCalc') {
            console.log("motoCalc Selected");
            motoDescription.style.display = 'block';
            windDescription.style.display = 'none';
            windInfo.style.display = 'none'
        } else if (value === 'windTunnel') {
            console.log("wind tunnel Selected");
            motoDescription.style.display = 'none';
            windDescription.style.display = 'block';
            windInfo.style.display = 'block'
        }
    }

    // Initialize based on pre-selected radio
    const selectedDataType = document.querySelector('input[name="dataSelector"]:checked');
    if (selectedDataType) {
        updateDescriptions(selectedDataType.value);
    }

    // Update dynamically on change
    document.querySelectorAll('input[name="dataSelector"]').forEach(radio => {
        radio.addEventListener('change', function() {
            updateDescriptions(this.value);
        });
    });
</script>
    <footer>
     &copy; 2025 Andrew Jesus. Released under the <a href="/LICENSE.md">MIT License</a>.<br>
        <a href="https://www.flaticon.com/free-icons/radar" title="radar icons">Radar icons created by Freepik - Flaticon</a>
    </footer>
</body>
</html>
